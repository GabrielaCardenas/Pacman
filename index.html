<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pacman Demo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="world"></div>
    <div id="pacman"></div>
    <div id="pacman2"></div>
    <div id="score">0</div>
    <div id="vidas">5</div>
    <div id="score2">0</div>
    <div id="vidas2">5</div>
    <script>
        var world=[
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
            [2,0,1,1,0,1,1,3,1,2,1,1,0,1,1,0,3,2,0,0,0,2,2,2],
            [2,1,1,0,2,2,2,2,1,0,1,1,1,1,1,1,2,2,0,0,0,2,1,2],
            [2,1,1,1,1,1,3,2,2,2,2,2,1,1,2,1,1,2,2,2,2,2,3,2],
            [2,0,1,0,2,2,2,1,1,1,3,1,1,0,1,1,1,1,1,1,1,1,1,2],
            [2,1,1,1,1,2,1,1,1,0,1,1,1,1,0,1,3,2,2,2,2,2,1,2],
            [2,1,0,1,3,2,1,0,1,2,2,2,2,2,2,2,2,2,0,0,0,2,1,2],
            [2,1,2,2,2,2,1,1,1,2,1,1,1,1,1,0,1,2,0,0,0,2,3,2],
            [2,1,1,1,1,0,1,3,1,2,1,1,0,1,1,1,1,2,2,2,2,2,1,2,2,2],
            [2,0,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,4,1,1,1,0,1,3,1,0,2],
            [2,2,1,0,1,2,0,1,1,0,1,1,1,2,1,0,2,2,2,2,2,2,2,1,1,2],
            [2,1,1,1,1,2,1,1,0,1,1,0,1,2,1,1,0,1,1,0,1,1,3,1,1,2],
            [2,0,1,1,1,2,1,1,1,2,2,1,1,2,1,3,1,2,2,2,2,2,2,2,2,2],
            [2,2,1,0,1,2,1,0,1,3,2,1,1,1,1,1,1,2],
            [2,0,1,3,1,2,1,1,2,2,2,1,1,1,1,0,1,2],
            [2,1,1,1,2,1,1,1,2,1,1,3,1,2,1,1,1,2],
            [2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2],
            [0,0,0,0,0,0,2,1,2,1,2],
            [0,0,0,0,0,0,2,1,2,1,2],
            [0,0,0,0,0,0,2,1,2,1,2],
            [0,0,0,0,0,0,2,1,3,1,2],
            [0,0,0,0,0,0,2,2,2,2,2]
        ]
        var worldaux=[
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],
            [2,0,1,1,0,1,1,3,1,2,1,1,0,1,1,0,3,2,0,0,0,2,2,2],
            [2,1,1,0,2,2,2,2,1,0,1,1,1,1,1,1,2,2,0,0,0,2,1,2],
            [2,1,1,1,1,1,3,2,2,2,2,2,1,1,2,1,1,2,2,2,2,2,3,2],
            [2,0,1,0,2,2,2,1,1,1,3,1,1,0,1,1,1,1,1,1,1,1,1,2],
            [2,1,1,1,1,2,1,1,1,0,1,1,1,1,0,1,3,2,2,2,2,2,1,2],
            [2,1,0,1,3,2,1,0,1,2,2,2,2,2,2,2,2,2,0,0,0,2,1,2],
            [2,1,2,2,2,2,1,1,1,2,1,1,1,1,1,0,1,2,0,0,0,2,3,2],
            [2,1,1,1,1,0,1,3,1,2,1,1,0,1,1,1,1,2,2,2,2,2,1,2,2,2],
            [2,0,1,1,1,2,1,1,1,2,1,1,1,2,1,1,1,4,1,1,1,0,1,3,1,0,2],
            [2,2,1,0,1,2,0,1,1,0,1,1,1,2,1,0,2,2,2,2,2,2,2,1,1,2],
            [2,1,1,1,1,2,1,1,0,1,1,0,1,2,1,1,0,1,1,0,1,1,3,1,1,2],
            [2,0,1,1,1,2,1,1,1,2,2,1,1,2,1,3,1,2,2,2,2,2,2,2,2,2],
            [2,2,1,0,1,2,1,0,1,3,2,1,1,1,1,1,1,2],
            [2,0,1,3,1,2,1,1,2,2,2,1,1,1,1,0,1,2],
            [2,1,1,1,2,1,1,1,2,1,1,3,1,2,1,1,1,2],
            [2,2,2,2,2,2,2,1,1,1,2,2,2,2,2,2,2,2],
            [0,0,0,0,0,0,2,1,2,1,2],
            [0,0,0,0,0,0,2,1,2,1,2],
            [0,0,0,0,0,0,2,1,2,1,2],
            [0,0,0,0,0,0,2,1,3,1,2],
            [0,0,0,0,0,0,2,2,2,2,2]
        ]
        var pacman=
        {
            x:1,
            y:1
        }
        var pacman2=
        {
            x:16,
            y:11
        }
        var score=0;
        var vidas=5;
        var score2=0;
        var vidas2=5;
        function displayWorld()
        {
            var output="";
            for(var i=0; i<world.length; i++)
            {
                output+="\n<div class='row'>";
                for(var j=0; j<world[i].length; j++)
                {
                    if(world[i][j]==2)
                    {
                        output += "\n\t<div class='brick'></div>";
                    }
                    else{
                    if(world[i][j]==1)
                    {
                        output += "\n\t<div class='coin'></div>";
                    }}
                    if(world[i][j]==0)
                    {
                        output += "\n\t<div class='empty'></div>";
                    }
                    if(world[i][j]==3)
                    {
                        output += "\n\t<div class='cereza'></div>";
                    }
                    if(world[i][j]==4)
                    {
                        output += "\n\t<div class='fantasma'></div>";
                    }
                }
                output+="\n</div>";
            }
            //console.log(output);
            document.getElementById("world").innerHTML=output;
        }
        function displayPacman()
        {
            document.getElementById("pacman").style.top=pacman.y*24+"px";
            document.getElementById("pacman").style.left=pacman.x*24+"px";
        }
        function displayPacman2()
        {
            document.getElementById("pacman2").style.top=pacman2.y*24+"px";
            document.getElementById("pacman2").style.left=pacman2.x*24+"px";
        }
        function displayScore()
        {
            document.getElementById("score").innerHTML=score;
        }
        function displayVidas()
        {
            document.getElementById("vidas").innerHTML=vidas;
        }
        function displayScore2()
        {
            document.getElementById("score2").innerHTML=score2;
        }
        function displayVidas2()
        {
            document.getElementById("vidas2").innerHTML=vidas2;
        }
    displayWorld();
    displayPacman();
    displayPacman2();
    displayScore();
    displayVidas();
    displayScore2();
    displayVidas2();
    document.onkeydown=function(b)
    {
        if(b.keyCode==37 && world[pacman2.y][pacman2.x-1]!=2)
        {
            document.getElementById("pacman2").style.backgroundImage = "url('mpacman_left.gif')";
            pacman2.x--;
        }
        if(b.keyCode==39 && world[pacman2.y][pacman2.x+1]!=2)
        {
            document.getElementById("pacman2").style.backgroundImage = "url('mpacman_right.gif')";
            pacman2.x++;
        }
        if(b.keyCode==40 && world[pacman2.y+1][pacman2.x]!=2)
        {
            document.getElementById("pacman2").style.backgroundImage = "url('mpacman_down.gif')";
            pacman2.y++;
        }
        if(b.keyCode==38 && world[pacman2.y-1][pacman2.x]!=2)
        {
            document.getElementById("pacman2").style.backgroundImage = "url('mpacman_up.gif')";
            pacman2.y--;
        }
        if(world[pacman2.y][pacman2.x]==1)
        {
            world[pacman2.y][pacman2.x]=0;
            score2+=10;
            displayWorld();
            displayScore2();
        }
        if(world[pacman2.y][pacman2.x]==3)
        {
            world[pacman2.y][pacman2.x]=0;
            score2+=50;
            displayWorld();
            displayScore2();
        }
        if(world[pacman2.y][pacman2.x]==4)
        {
            pacman2=
            {
                x:16,
                y:11
            }
            document.getElementById("pacman2").style.backgroundImage = "url('pacman_left.gif')";
            vidas2--;
            displayVidas2();
        }
        if(vidas2==0)
        {
            world=worldaux;
            score2=0;
            vidas2=5;
            displayVidas2();
            displayScore2();
        }
        if(b.keyCode==65 && world[pacman.y][pacman.x-1]!=2)
        {
            document.getElementById("pacman").style.backgroundImage = "url('pacman_left.gif')";
            pacman.x--;
        }
        if(b.keyCode==68 && world[pacman.y][pacman.x+1]!=2)
        {
            document.getElementById("pacman").style.backgroundImage = "url('pacman_right.gif')";
            pacman.x++;
        }
        if(b.keyCode==83 && world[pacman.y+1][pacman.x]!=2)
        {
            document.getElementById("pacman").style.backgroundImage = "url('pacman_down.gif')";
            pacman.y++;
        }
        if(b.keyCode==87 && world[pacman.y-1][pacman.x]!=2)
        {
            document.getElementById("pacman").style.backgroundImage = "url('pacman_up.gif')";
            pacman.y--;
        }
        if(world[pacman.y][pacman.x]==1)
        {
            world[pacman.y][pacman.x]=0;
            score+=10;
            displayWorld();
            displayScore();
        }
        if(world[pacman.y][pacman.x]==3)
        {
            world[pacman.y][pacman.x]=0;
            score+=50;
            displayWorld();
            displayScore();
        }
        if(world[pacman.y][pacman.x]==4)
        {
            pacman=
            {
                x:1,
                y:1
            }
            document.getElementById("pacman").style.backgroundImage = "url('pacman_right.gif')";
            vidas--;
            displayVidas();
        }
        if(vidas==0)
        {
            world=worldaux;
            score=0;
            vidas=5;
            displayVidas();
            displayScore();
        }
        //console.log(a.keyCode);
        displayPacman();
        displayPacman2();
    }
    </script>
</body>
</html>